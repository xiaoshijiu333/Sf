<html lang="zxx">
<!-- Head -->

<head>
    <title>Software Factory Register</title>
    <link href="images/Logo.png" rel="shortcut icon">
    <!-- Meta-Tags -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <meta name="keywords"
          content="Border sign in Form a Responsive Web Template, Bootstrap Web Templates, Flat Web Templates, Android Compatible Web Template, Smartphone Compatible Web Template, Free Webdesigns for Nokia, Samsung, LG, Sony Ericsson, Motorola Web Design">
    <script type="text/javascript" src="js/jquery-2.1.4.min.js"></script>
    <script>
        addEventListener("load", function () {
            setTimeout(hideURLbar, 0);
        }, false);

        function hideURLbar() {
            window.scrollTo(0, 1);
        }
    </script>
    <!--层叠样式-->
    <link href="css/index_file/bootstrap.css" rel="stylesheet" type="text/css" media="all"/>
    <link rel="stylesheet" href="css/login_file/style_login.css" type="text/css" media="all">
    <link rel="stylesheet" href="css/login_file/font-awesome.css" type="text/css" media="all">


</head>

<body>
<div class="reg_head">Join Software Factory</div>
<div class="reg_info">The best way to design, build, and ship software.</div>
<div class="reg_start clearfix">
    <div class="start active">
        <div class="col-sm-2 reg_img"><img src="images/user.png"></div>
        <div class="col-sm-10 reg_step">
            <h3 class="step active">STEP1:</h3>
            <p>Create your personal account</p>
        </div>
    </div>
    <div class="start">
        <div class="col-sm-2 reg_img"><img src="images/user1.png"></div>
        <div class="col-sm-10 reg_step">
            <h3 class="step">STEP2:</h3>
            <p class="pactive">Refine your personal information</p>
        </div>
    </div>
    <div class="start">
        <div class="col-sm-2 reg_img"><img src="images/user1.png"></div>
        <div class="col-sm-10 reg_step">
            <h3 class="step">STEP3:</h3>
            <p class="pactive">Start a project</p>
        </div>
    </div>
</div>
<div class="reg_thrid">Create your personal account</div>
<div class="reg_form">
    <form action="sf_register.action" method="post" id="registForm">
        <div class="form-group">
            <label class="control-label">Username</label>
            <input name="username" type="text" class="form-control" required="required" id="username" onblur="YHMonblus()">
            <span>This will be your username. You can add the name of your organization later.</span>
        </div>
        <div class="form-group">
            <label class="control-label">Email address</label>
            <input name="email" type="email" class="form-control" required="required" id="email" onblur="YXonblus()">
            <span>We’ll occasionally send updates about your account to this inbox.
                We’ll never share your email address with anyone.</span>
        </div>
        <div class="form-group">
            <label class="control-label">Password</label>
            <input name="password" type="password" class="form-control" required="required" id="password" onblur="MMonblus()">
            <span>Use at least one lowercase letter, one numeral, and seven characters.</span>
        </div>
        <div class="form_info">
            By clicking “Create an account” below, you agree to our terms of service and privacy statement.
            We’ll occasionally send you account related emails.
        </div>
        <div class="err" id="error"></div>
        <div class="form-group">
            <input type="submit" class="form-control regit" value="Create an account" id="saveForm">
        </div>
    </form>
    <div class="reg_love">
        <div class="love_first">You’ll love Software Factory</div>
        <div class="love_second">Unlimited collaborators <br>
            Unlimited public repositories</div>
        <div class="love_thrid">
            <img src="images/check2.png" alt="">Great communication <br>
            <img src="images/check2.png" alt="">Frictionless development <br>
            <img src="images/check2.png" alt="">Open source community
        </div>
    </div>
</div>
<div class="footer">
    © 2018 Software Factory, Inc Terms Privacy Security Status Help
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    Contact Software Factory API Training Shop Blog
    <div class="footbottom"></div>
</div>
<!--格式检验-->
<script>
    //用户名
    function YHMonblus() {
        var username = $("#username").val();
        var re = /^[a-zA-Z_]{6,18}$/;
        if (username == "") {
            $("#error").html("Please input username.");
            return false;
        }
        else if (username.length < 6 || username.length > 18) {
            $("#error").html("Format error, length should be 6-18 characters");
            return false;
        }
        else if (!re.test(username)) {
            $("#error").html("Format error, only English letters and underscores");
            return false;
        }
        else {
            //用户名是否唯一的判断
            $.ajax({
                url: "sf_OneUname.action",
                data: {username: username},
                datatype: "text",
                success: function (data) {
                    if (data.toString() == "oneUname") {
                        $("#error").html("Username registered! Please re-enter");
                        return false;
                    } else {
                        $("#error").html("");
                        return true;
                    }
                }
            })
        }
    }

    //用于提交表单的判断
    function YHMonblus2() {
        var username = $("#username").val();
        var re = /^[a-zA-Z_]{6,18}$/;
        if (username == "") {
            $("#error").html("Please input username.");
            return false;
        }
        else if (username.length < 6 || username.length > 18) {
            $("#error").html("Format error, length should be 6-18 characters");
            return false;
        }
        else if (!re.test(username)) {
            $("#error").html("Format error, only English letters and underscores");
            return false;
        }
        else {
            $("#error").html("");
            return true;
        }
    }

    //密码
    function MMonblus() {
        var password = $("#password").val();
        var re = /^(?=.*\d)(?=.*[a-zA-Z])[\da-zA-Z]{6,}$/;

        if (password == "") {
            $("#error").html("Please input password");
            return false;
        }
        else if (password.length < 6) {
            $("#error").html("Format error, length should be 6-18 characters");
            return false;
        }
        else if (!re.test(password)) {
            $("#error").html("Format error, must contain English letters, capitals and numbers");
            return false;
        } else {
            $("#error").html("");
            return true;
        }
    }

    //电子邮箱
    function YXonblus() {
        var email = $("#email").val();
        var re = /[a-zA-Z0-9]{1,10}@[a-zA-Z0-9]{1,5}\.[a-zA-Z0-9]{1,5}/;
        if (email == "") {
            $("#error").html("Please input email.");
            return false;
        } else if (!re.test(email)) {
            $("#error").html("Email Format Input Error.");
            return false;
        } else {
            //邮箱是否唯一的判断
            $.ajax({
                url: "sf_OneUname.action",
                data: {username: email},
                datatype: "text",
                success: function (data) {
                    if (data.toString() == "oneUname") {
                        $("#error").html("Email registered! Please re-enter");
                        return false;
                    } else {
                        $("#error").html("");
                        return true;
                    }
                }
            })
        }
    }

    function YXonblus2() {
        var email = $("#email").val();
        var re = /[a-zA-Z0-9]{1,10}@[a-zA-Z0-9]{1,5}\.[a-zA-Z0-9]{1,5}/;
        if (email == "") {
            $("#error").html("Please input email.");
            return false;
        } else if (!re.test(email)) {
            $("#error").html("Email Format Input Error.");
            return false;
        } else {
            $("#error").html("");
            return true;
        }
    }
    
    //表单提交
    $("#saveForm").click(function () {
        if (YHMonblus2() && YXonblus2() && MMonblus()) {
            $("#registForm").submit();
        }
        return false;
    })

</script>

</body>
<!-- //Body -->
</html>
